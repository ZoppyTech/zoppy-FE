<div class="container">
    <div class="header padding-3">
        <h6 class="text--primary text--bold text-20">Configuração de Giftback</h6>
    </div>
    <div class="separator"></div>

    <div class="title margin-top-3">
        <h6 class="text-18 text--bold">Giftback</h6>
        <span class="text-16">Configure seu giftback automático por compra concluída</span>
    </div>

    <div class="body">
        <div class="field">
            <span class="text-14 margin-bottom-1">
                Percentual de giftback <span class="text-14 text--secondary">&nbsp;(Sugestão: 15%)</span></span
            >
            <ps-input type="number" placeholder="Digite a porcentagem" [(ngModel)]="giftback.percentValue"></ps-input>
            <span class="text--500 text-12 desktop">
                Percentual de desconto em relação à compra feita que dará de giftback para uma compra futura.
            </span>
        </div>
        <div class="field">
            <span class="text-14 margin-bottom-2">
                Percentual máximo de desconto <span class="text-14 text--secondary">&nbsp;(Sugestão: 30%)</span>
            </span>
            <ps-input type="number" placeholder="Digite a porcentagem" [(ngModel)]="giftback.maxPercentValue"></ps-input>
            <span class="text--500 text-12 desktop"> O valor máximo que o cupom pode representar de desconto na próxima compra. </span>
        </div>
        <div class="field">
            <span class="text-14"> Data de validade <span class="text-14 text--secondary">&nbsp;(Sugestão: 45 dias)</span></span>
            <ps-input type="number" [(ngModel)]="giftback.expirationDays" placeholder="Digite a quantidade de dias"></ps-input>
            <span class="text--500 text-12 desktop"> Número de dias que o usuário poderá utilizar após a criação do cupom. </span>
        </div>
        <div class="field">
            <span class="text-14"> Data de envio <span class="text-14 text--secondary">&nbsp;(Sugestão: 0 dias)</span></span>
            <ps-input type="number" [(ngModel)]="giftback.startDays" placeholder="Digite a quantidade de dias"></ps-input>
            <span class="text--500 text-12 desktop">
                Número de dias que o sistema esperará para enviar a primeira mensagem ao seu cliente.
            </span>
        </div>

        <div class="field" *ngIf="acumulativeVisible()">
            <span class="text-14 margin-bottom-2">
                Permitir que cupom seja cumulativo <span class="text-14 text--secondary">&nbsp;(Sugestão: Sim)</span>
            </span>
            <div class="padding-y-1">
                <ps-switch type="number" placeholder="Digite a porcentagem" [(active)]="giftback.acumulative">
                    <span class="text--500 text-12 desktop"> Permitir que esse cupom seja utilizado com outros descontos. </span>
                </ps-switch>
            </div>
        </div>
        <div class="field" *ngIf="excludeSaleItemsVisible()">
            <span class="text-14 margin-bottom-2">
                Excluir items em promoção <span class="text-14 text--secondary">&nbsp;(Sugestão: Não)</span>
            </span>
            <div class="padding-y-1">
                <ps-switch type="number" placeholder="Digite a porcentagem" [(active)]="giftback.excludeSaleItems">
                    <span class="text--500 text-12 desktop"> Proibir que esse cupom seja utilizado com produtos em liquidação </span>
                </ps-switch>
            </div>
        </div>
        <div class="field" *ngIf="allowedCategoriesVisible()">
            <span class="text-14 margin-bottom-2">
                Filtrar categorias <span class="text-14 text--secondary">&nbsp;(Sugestão: Deixar todas)</span>
            </span>
            <div class="padding-y-1">
                <ps-switch type="number" placeholder="Digite a porcentagem" [(active)]="filterCategories">
                    <span class="text--500 text-12 desktop">
                        Definir quais categorias de produtos poderão ser usadas com os cupons gerados</span
                    >
                </ps-switch>
            </div>

            <ps-multi-select
                *ngIf="filterCategories && categories.length > 0"
                [enableSearch]="true"
                [displayTop]="true"
                [wide]="true"
                [items]="categories"
                [(values)]="selectedCategories"
                propertyLabel="name"
                propertyValue="id"
            ></ps-multi-select>
        </div>

        <div class="field">
            <span class="text-14 margin-bottom-1">
                Dias para iniciar o pós venda <span class="text-14 text--secondary">&nbsp;(Sugestão: 7 dias)</span></span
            >
            <ps-input type="number" placeholder="Digite a porcentagem" [(ngModel)]="giftback.afterSaleDays"></ps-input>
            <span class="text--500 text-12 desktop">
                Número de dias que o sistema dará para registrar uma tarefa de pós venda para esse cliente no painel do vendedor.
            </span>
        </div>
        <div class="field">
            <span class="text-14 margin-bottom-1">
                Dias para iniciar o NPS <span class="text-14 text--secondary">&nbsp;(Sugestão: 1 dias)</span></span
            >
            <ps-input type="number" placeholder="Digite a porcentagem" [(ngModel)]="giftback.npsRatingDays"></ps-input>
            <div class="flex-start flex-column">
                <span class="text--500 text-12 desktop">
                    Número de dias que o sistema dará para registrar uma tarefa de NPS para esse cliente no painel do vendedor.
                </span>
                <span class="text--warning text-12 desktop">
                    *Obs: Valor igual a 0 (zero), o registro da atividade será desconsiderado.
                </span>
            </div>
        </div>
        <div class="field">
            <span class="text-14 margin-bottom-1">
                Horas para considerar pedido nao concluído como carrinho abandonado<span class="text-14 text--secondary"
                    >&nbsp;(Sugestão: 4 horas)</span
                ></span
            >
            <ps-input type="number" placeholder="Digite a quantidade de horas" [(ngModel)]="giftback.abandonedCartDelay"></ps-input>
            <span class="text--500 text-12 desktop">
                Número de horas que o sistema considerará para tratar o pedido como carrinho abandonado, criando uma tarefa de carrinho
                abandonado no painel do vendedor.
            </span>
        </div>
    </div>
    <div class="footer">
        <ps-button [loading]="loading" [wide]="true" (onClick)="save()" type="secondary" [disabled]="getSaveDisabled()">
            <span class="text--100 text--bold text-14">Salvar</span>
        </ps-button>
    </div>
</div>
