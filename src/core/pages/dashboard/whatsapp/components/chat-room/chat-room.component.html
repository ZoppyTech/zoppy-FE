<div class="container">
    <div class="header">
        <h5 class="text--800 text--bold margin-y-1">{{ chatRoom.contact.name }}</h5>
        <h6 class="text--small text--800">{{ chatRoom.contact.displayPhone }}</h6>
    </div>

    <div *ngIf="loadingMessages"></div>
    <div *ngIf="!loadingMessages" id="panel-scrollable" class="chat-content">
        <bubble-info class="flex-bottom" *ngIf="this.chatRoom.threads.length <= 0"></bubble-info>
        <div *ngFor="let thread of this.chatRoom.threads">
            <splitter-date [thread]="thread" [visible]="thread.isFirstMessageOfDay"></splitter-date>
            <thread-message
                class="flex-row wide margin-bottom-1"
                [ngStyle]="{ 'justify-content': !thread.isBusiness ? 'flex-start' : 'flex-end' }"
                [thread]="thread"
            >
                <text-message thread-message-content [text]="thread.message"></text-message>
            </thread-message>
        </div>
    </div>

    <div class="footer">
        <div *ngIf="!isLastMessage" class="see-last-message-button clickable" (click)="seeLastMessage()">
            <ps-icon class="arrow-icon" icon="icon-chevron text--primary"></ps-icon>
        </div>
        <ps-button class="show-templates-button" [loading]="false" [wide]="true" (onClick)="showMessageTemplates()" type="clean">
            <span class="text--800 text--bold">#</span>
        </ps-button>
        <ps-input type="text" placeholder="Escreva sua mensagem" [(ngModel)]="newMessage"></ps-input>
        <ps-button class="send-button" [loading]="false" [wide]="true" (onClick)="sendMessage()" type="secondary">
            <span class="text--100 text--bold">Enviar</span>
        </ps-button>
    </div>
</div>
